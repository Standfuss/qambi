{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "sequencer.js",
    "settings.js",
    "song.js",
    "song_add_eventlistener.js",
    "track.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nimport getSettings from './settings.js';\nimport Song from './song.js';\nimport Track from './track.js';\n\nlet sequencer = {\n  name: 'qambi',\n  ui: {}, // ui functions\n  util: {}, // util functions\n  activeSongs: {}, // the songs that are currently loaded in memory\n  midiInputs: [],\n  midiOutputs: [],\n  init: function(){\n    // add more promises here: for init midi system, testing audio support, and parsing metronome samples\n    // -> see init method in sequencer.js at line 90 of heartbeat!\n    return new Promise(function executor(resolve, reject){\n      let settings = getSettings();\n      if(settings.error !== undefined){\n        //alert(settings.error);\n        reject(settings.error);\n      }else{\n        sequencer.os = settings.os;\n        sequencer.browser = settings.browser;\n\n        if(sequencer.os !== 'ios'){\n          sequencer.unlockWebAudio = function(){};\n        }else{\n          sequencer.unlockWebAudio = function(){\n            let src = settings.context.createOscillator(),\n              gainNode = settings.context.createGainNode();\n            gainNode.gain.value = 0;\n            src.connect(gainNode);\n            gainNode.connect(settings.context.destination);\n            if(src.noteOn !== undefined){\n              src.start = src.noteOn;\n              src.stop = src.noteOff;\n            }\n            src.start(0);\n            src.stop(0.001);\n\n            // remove function after first use\n            sequencer.unlockWebAudio = function(){};\n          };\n        }\n        resolve();\n      }\n    });\n  }\n};\n\nsequencer.createSong = function(config){\n  return new Song(config);\n};\n\nsequencer.createTrack = function(){\n  var t = Object.create(Track);\n  t.init();\n  return t;\n};\n\nexport default sequencer;\n",
    "'use strict';\n\nlet\n  settings,\n  context,\n  ua,\n  os,\n  browser,\n  gainNode,\n  compressor,\n  src;\n\n\nfunction getSettings(){\n\n  if(settings !== undefined){\n    return settings;\n  }\n\n  settings = {\n    ua: '',\n    os: '',\n    browser: '',\n    legacy: false, // true if the browser uses an older version of the WebAudio API, source.noteOn() and source.noteOff instead of source.start() and source.stop()\n    record_audio: navigator.getUserMedia !== undefined,\n    midi: false,\n    webmidi: false,\n    webaudio: true,\n    jazz: false,\n    ogg: false,\n    mp3: false,\n    bitrate_mp3_encoding: 128,\n    debug: 4, // 0 = off, 1 = error, 2 = warn, 3 = info, 4 = log\n    debugLevel: 4, // 0 = off, 1 = error, 2 = warn, 3 = info, 4 = log\n    pitch: 440,\n    bufferTime: 350/1000, //seconds\n    autoAdjustBufferTime: false,\n    noteNameMode: 'sharp',\n    minimalSongLength: 60000, //millis\n    pauseOnBlur: false,\n    restartOnFocus: true,\n    defaultPPQ: 960,\n    overrulePPQ: true,\n    precision: 3, // means float with precision 3, e.g. 10.437\n  };\n\n\n  // get browser and os\n  getEnvironment();\n\n\n  // check for modern API's\n  window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n  window.Blob = window.Blob || window.webkitBlob || window.mozBlob;\n  //console.log('iOS', os, context, window.Blob, window.requestAnimationFrame);\n\n\n  // check if audio can be recorded\n  navigator.getUserMedia = (\n    navigator.getUserMedia ||\n    navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia ||\n    navigator.msGetUserMedia\n  );\n\n\n  // audio context\n  if(window.AudioContext){\n    context = new window.AudioContext();\n    if(context.createGainNode === undefined){\n      context.createGainNode = context.createGain;\n    }\n  }else if(window.webkitAudioContext){\n    context = new window.webkitAudioContext();\n  }else if(window.oAudioContext){\n    context = new window.oAudioContext();\n  }else if(window.msAudioContext){\n    context = new window.msAudioContext();\n  }else{\n    let error = 'The WebAudio API hasn\\'t been implemented in ' + browser + ', please use any other browser';\n    return {error};\n  }\n\n\n  // check for older implementations of WebAudio\n  src = context.createBufferSource();\n  settings.legacy = false;\n  if(src.start === undefined){\n    settings.legacy = true;\n  }\n\n  // set up the elementary audio nodes\n  compressor = context.createDynamicsCompressor();\n  compressor.connect(context.destination);\n  gainNode = context.createGainNode();\n  gainNode.connect(context.destination);\n  gainNode.gain.value = 1;\n\n\n  // add to settings object\n  settings.context = context;\n  settings.masterGainNode = gainNode;\n  settings.masterCompressor = compressor;\n\n  settings.ua = ua;\n  settings.os = os;\n  settings.browser = browser; // the name of thebrowser in lowercase, e.g. firefox, opera, safari, chromium, etc.\n  settings.record_audio = navigator.getUserMedia !== undefined;\n\n  return settings;\n}\n\n\nfunction getEnvironment(){\n  if(navigator === undefined){\n    ua = 'NA';\n    browser = 'NA';\n    os = 'unknown'; // TODO: check os here with Nodejs' require('os')\n    return;\n  }\n\n  ua = navigator.userAgent;\n\n  if(ua.match(/(iPad|iPhone|iPod)/g)){\n    os = 'ios';\n  }else if(ua.indexOf('Android') !== -1){\n    os = 'android';\n  }else if(ua.indexOf('Linux') !== -1){\n     os = 'linux';\n  }else if(ua.indexOf('Macintosh') !== -1){\n     os = 'osx';\n  }else if(ua.indexOf('Windows') !== -1){\n     os = 'windows';\n  }\n\n  if(ua.indexOf('Chrome') !== -1){\n    // chrome, chromium and canary\n    browser = 'chrome';\n\n    if(ua.indexOf('OPR') !== -1){\n      browser = 'opera';\n    }else if(ua.indexOf('Chromium') !== -1){\n      browser = 'chromium';\n    }\n  }else if(ua.indexOf('Safari') !== -1){\n    browser = 'safari';\n  }else if(ua.indexOf('Firefox') !== -1){\n    browser = 'firefox';\n  }else if(ua.indexOf('Trident') !== -1){\n    browser = 'Internet Explorer';\n  }\n\n  if(os === 'ios'){\n    if(ua.indexOf('CriOS') !== -1){\n      browser = 'chrome';\n    }\n  }\n  //console.log(os, browser, '---', ua);\n}\n\n\nexport default getSettings;",
    "'use strict';\n\nimport {addEventListener, removeEventListener, dispatchEvent} from './song_add_eventlistener';\n\nlet songId = 0;\n\n\nclass Song{\n\n  constructor(config){\n    this.id = 'S' + songId++ + new Date().getTime();\n    this.config = config;\n  }\n\n  // add samples to the instrument after it has been created, this allows you to jit load the samples of an instrument\n  addSamples(samples){\n    console.log('added', samples);\n  }\n\n  stop(){\n    dispatchEvent('stop');\n  }\n\n  play(){\n    dispatchEvent('play');\n  }\n}\n\nSong.prototype.addEventListener = addEventListener;\nSong.prototype.removeEventListener = removeEventListener;\nSong.prototype.dispatchEvent = dispatchEvent;\n\nexport default Song;",
    "let listeners = {};\n\nfunction addEventListener(id, callback){\n  listeners[id] = callback;\n}\n\nfunction removeEventListener(id, callback){\n  delete listeners[id];\n}\n\nfunction dispatchEvent(id){\n  for(let key in listeners){\n    if(key === id && listeners.hasOwnProperty(key)){\n      listeners[key](id);\n    }\n  }\n}\n\nexport {addEventListener as addEventListener};\nexport {removeEventListener as removeEventListener};\nexport {dispatchEvent as dispatchEvent};",
    "'use strict';\n\nlet trackId = 0;\n\n\nlet Track = {\n    init: function(){\n        let id = 'T' + trackId++ + new Date().getTime();\n        Object.defineProperty(this, 'id', {\n            value: id\n        });\n    }\n}\n\nexport default Track;"
  ]
}